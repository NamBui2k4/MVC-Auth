# ğŸ”¶ 1. Tá»•ng quan vá» Cookie & Session

Session vÃ  Cookie lÃ  hai cÆ¡ cháº¿ quáº£n lÃ½ tráº¡ng thÃ¡i ngÆ°á»i dÃ¹ng web app trong mÃ´i trÆ°á»ng HTTP vá»‘n "stateless" (Server khÃ´ng thá»ƒ biáº¿t Ä‘Æ°á»£c 2 request cÃ³ tá»›i tá»« cÃ¹ng 1 client hay khÃ´ng). DÃ¹ Ä‘á»u phá»¥c vá»¥ má»¥c Ä‘Ã­ch lÆ°u trá»¯ thÃ´ng tin táº¡m thá»i, chÃºng hoáº¡t Ä‘á»™ng á»Ÿ hai táº§ng khÃ¡c nhau: má»™t bÃªn lÃ  server, má»™t bÃªn lÃ  client. DÆ°á»›i Ä‘Ã¢y lÃ  cÃ¡ch hiá»ƒu dá»… hÃ¬nh dung:


|             |                                Äáº·c Ä‘iá»ƒm                            |
| ------------| ------------------------------------------------------------------ |
| **Cookie**  | - LÆ°u trá»¯ á»Ÿ phÃ­a client (browser) <br> - LÆ°u trá»¯ dá»¯ liá»‡u nhá» (thÆ°á»ng lÃ  token hoáº·c sessionID) <br> - Client cÃ³ thá»ƒ xem vÃ  chá»‰nh sá»­a Ä‘Æ°á»£c (khÃ´ng an toÃ n cho dá»¯ liá»‡u nháº¡y cáº£m) <br> - CÃ³ thá»ƒ tá»“n táº¡i lÃ¢u dÃ i tÃ¹y cáº¥u hÃ¬nh <br> Tá»± Ä‘á»™ng Ä‘Ã­nh kÃ¨m trong má»—i HTTP request|
| **Session** | - LÆ°u trá»¯ á»Ÿ Server (RAM, Redis, MongoDB, â€¦) <br> - LÆ°u trá»¯ dá»¯ liá»‡u lá»›n (phiÃªn ngÆ°á»i dÃ¹ng, userID, role, giá» hÃ ng,...) <br> - Client khÃ´ng tháº¥y dá»¯ liá»‡u tháº­t <br> - Káº¿t thÃºc khi timeout hoáº·c Ä‘Ã³ng trÃ¬nh duyá»‡t |

# ğŸ”· 2. MÃ´ hÃ¬nh hoáº¡t Ä‘á»™ng cÆ¡ báº£n
```pgsql
               â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
               â”‚         Browser             â”‚
               â”‚ (Client - NgÆ°á»i dÃ¹ng)       â”‚
               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚   â‘  Gá»­i request Ä‘Äƒng nháº­p
                            â–¼
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
             â”‚          Express App         â”‚
             â”‚ (Controller + Middleware)    â”‚
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                      â”‚                          â”‚
       â–¼                      â–¼                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ cookieParserâ”‚     â”‚ express-session    â”‚     â”‚  Database (User) â”‚
â”‚ middleware  â”‚     â”‚ middleware         â”‚     â”‚  hoáº·c Redis       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

